<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì œí’ˆ ìƒì„¸ ë³´ê¸°</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 40px;
      max-width: 800px;
      margin: auto;
      background-color: #f9f9f9;
    }

    h1 { font-size: 28px; color: #333; }

    img { max-width: 100%; margin: 20px 0; border-radius: 12px; }

    p { font-size: 16px; color: #555; }

    #lang-switch {
      text-align: right;
      margin-bottom: 20px;
    }

    .back {
      margin-top: 30px;
    }

    .back a {
      color: #007BFF;
      text-decoration: none;
    }

    #download-button {
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="lang-switch">
    <button onclick="setLanguage('ko')">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
    <button onclick="setLanguage('en')">ğŸ‡ºğŸ‡¸ English</button>
  </div>

  <h1 id="name"></h1>
  <img id="image" src="" alt="ì œí’ˆ ì´ë¯¸ì§€">
  <p id="description"></p>
  <div id="download-button"></div>

  <div class="back">
    <a id="back-link" href="index.html">â† ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const productName = params.get('name');

    const translations = {
      ko: {
        back: "â† ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°",
        download: "ğŸ“„ ì‚¬ì–‘ì„œ ë‹¤ìš´ë¡œë“œ",
        notFound: "ì œí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
      },
      en: {
        back: "â† Back to list",
        download: "ğŸ“„ Download Datasheet",
        notFound: "Product not found."
      }
    };

    let currentLang = 'ko';
    let currentProduct = null;

    function setLanguage(lang) {
      currentLang = lang;

      // ë’¤ë¡œê°€ê¸° í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
      document.getElementById('back-link').textContent = translations[lang].back;

      // ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
      updateDownloadButton();

      // ì œí’ˆ ëª» ì°¾ì•˜ì„ ë•Œ ë©”ì‹œì§€ë„ ë²ˆì—­
      if (!currentProduct) {
        document.body.innerHTML = `<p>${translations[lang].notFound}</p>`;
      }
    }

    function updateDownloadButton() {
      const container = document.getElementById('download-button');
      container.innerHTML = '';

      if (currentProduct && currentProduct.datasheet) {
        const btn = document.createElement('a');
        btn.href = currentProduct.datasheet;
        btn.textContent = translations[currentLang].download;
        btn.style.display = 'inline-block';
        btn.style.marginTop = '20px';
        btn.style.padding = '10px 20px';
        btn.style.backgroundColor = '#007BFF';
        btn.style.color = 'white';
        btn.style.borderRadius = '8px';
        btn.style.textDecoration = 'none';

        container.appendChild(btn);
      }
    }

    fetch('products.json')
      .then(response => response.json())
      .then(products => {
        const product = products.find(p => p.name === productName);
        currentProduct = product;

        if (product) {
          document.getElementById('name').textContent = product.name;
          document.getElementById('image').src = product.image;
          document.getElementById('description').textContent = product.description;

          setLanguage(currentLang); // ì´ˆê¸° ì–¸ì–´ ì„¤ì •
        } else {
          document.body.innerHTML = `<p>${translations[currentLang].notFound}</p>`;
        }
      });
  </script>
</body>
</html>
